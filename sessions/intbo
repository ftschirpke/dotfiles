#!/usr/bin/env bash

name=$(basename "$0")
dir=~/interpreter-books
echo "Starting tmux session $name"
window1="exec"
tmux new-session -d -s "$name" -n $window1 -c $dir/mine/src

window2="nvim"
tmux new-window -d -t $name:2 -n $window2 -c $dir/mine
tmux send-keys -t $name:$window2 "nvim ." Enter

window3="git"
tmux new-window -d -t $name:3 -n $window3 -c $dir/mine
tmux send-keys -t $name:$window3 "git fetch -p" Enter
tmux send-keys -t $name:$window3 "git status" Enter

window4="interpreter"
tmux new-window -d -t $name:4 -n $window4 -c $dir/writing_an_interpreter_in_go_1.7

window5="compiler"
tmux new-window -d -t $name:5 -n $window5 -c $dir/writing_a_compiler_in_go_1.2

tmux_switch_session $name
